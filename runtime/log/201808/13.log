---------------------------------------------------------------
[ 2018-08-13T09:06:55+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.125285s][吞吐率：7.98req/s] [内存消耗：2,630.95kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T09:06:58+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.092722s][吞吐率：10.78req/s] [内存消耗：2,650.81kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.013953s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000778s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534122416',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '1',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000210s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011839s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.016317s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000781s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.009150s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 1  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000517s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为1的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T09:06:59+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture.html
[ info ] larsun.com/ps/inspection/agriculture.html [运行时间：0.078172s][吞吐率：12.79req/s] [内存消耗：2,050.68kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T09:10:04+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.108473s][吞吐率：9.22req/s] [内存消耗：2,631.87kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T09:10:14+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html?_pjax=.content
[ info ] larsun.com/ps/inspection/packing.html?_pjax=.content [运行时间：0.119814s][吞吐率：8.35req/s] [内存消耗：2,593.33kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T09:10:14+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.093953s][吞吐率：10.64req/s] [内存消耗：2,749.52kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.016316s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.002267s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534122605',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/fresh.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000223s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000627s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006384s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000666s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000306s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000163s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000132s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000131s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000160s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006456s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000215s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 22,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000350s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 17,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T09:10:27+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.097800s][吞吐率：10.22req/s] [内存消耗：2,631.87kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T09:10:29+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.073291s][吞吐率：13.64req/s] [内存消耗：2,651.73kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010904s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000872s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534122628',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '1',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000317s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001826s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.016845s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000770s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008161s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 1  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000426s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 12,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为1的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T09:11:48+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.075639s][吞吐率：13.22req/s] [内存消耗：2,651.73kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.015914s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000895s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534122705',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000205s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001914s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.016702s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.001828s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006790s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000430s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T09:13:36+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.109567s][吞吐率：9.13req/s] [内存消耗：2,631.87kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T09:17:46+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.111394s][吞吐率：8.98req/s] [内存消耗：2,631.91kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T09:17:54+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.095207s][吞吐率：10.50req/s] [内存消耗：2,587.37kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T09:17:54+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.082303s][吞吐率：12.15req/s] [内存消耗：2,750.66kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.012627s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000851s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534123067',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000375s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000822s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008277s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000986s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000317s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000145s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000163s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000128s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000153s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.009330s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000441s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 22,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000307s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 15,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T09:17:56+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark?action=getPurchase&mark=1&type=2
[ info ] larsun.com/ps/inspection/mark?action=getPurchase&mark=1&type=2 [运行时间：0.089944s][吞吐率：11.12req/s] [内存消耗：2,568.45kb] [文件加载：77]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T09:18:43+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.117871s][吞吐率：8.48req/s] [内存消耗：2,756.75kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.043500s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.009404s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534123075',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000367s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010623s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.015512s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000513s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.006438s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000275s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006167s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000620s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000338s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000252s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000203s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000194s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000206s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006584s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000216s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 22,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000361s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 15,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T09:19:08+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html?action=inspectionUpdate
[ info ] larsun.com/ps/inspection/mark.html?action=inspectionUpdate [运行时间：0.104290s][吞吐率：9.59req/s] [内存消耗：2,542.69kb] [文件加载：75]
[ error ] [0]数据表字段不存在:[product_date][D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:107]
---------------------------------------------------------------
[ 2018-08-13T09:19:16+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html?action=inspectionUpdate
[ info ] larsun.com/ps/inspection/mark.html?action=inspectionUpdate [运行时间：0.076843s][吞吐率：13.01req/s] [内存消耗：2,536.95kb] [文件加载：75]
[ error ] [0]数据表字段不存在:[product_date][D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:107]
---------------------------------------------------------------
[ 2018-08-13T09:19:17+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html?action=inspectionUpdate
[ info ] larsun.com/ps/inspection/mark.html?action=inspectionUpdate [运行时间：0.087228s][吞吐率：11.46req/s] [内存消耗：2,536.95kb] [文件加载：75]
[ error ] [0]数据表字段不存在:[product_date][D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:107]
---------------------------------------------------------------
[ 2018-08-13T09:19:17+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html?action=inspectionUpdate
[ info ] larsun.com/ps/inspection/mark.html?action=inspectionUpdate [运行时间：0.076823s][吞吐率：13.02req/s] [内存消耗：2,536.95kb] [文件加载：75]
[ error ] [0]数据表字段不存在:[product_date][D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:107]
---------------------------------------------------------------
[ 2018-08-13T09:19:17+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html?action=inspectionUpdate
[ info ] larsun.com/ps/inspection/mark.html?action=inspectionUpdate [运行时间：0.068605s][吞吐率：14.58req/s] [内存消耗：2,536.95kb] [文件加载：75]
[ error ] [0]数据表字段不存在:[product_date][D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:107]
---------------------------------------------------------------
[ 2018-08-13T09:19:18+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html?action=inspectionUpdate
[ info ] larsun.com/ps/inspection/mark.html?action=inspectionUpdate [运行时间：0.079384s][吞吐率：12.60req/s] [内存消耗：2,536.95kb] [文件加载：75]
[ error ] [0]数据表字段不存在:[product_date][D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:107]
---------------------------------------------------------------
[ 2018-08-13T09:19:20+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html?action=inspectionUpdate
[ info ] larsun.com/ps/inspection/mark.html?action=inspectionUpdate [运行时间：0.058289s][吞吐率：17.16req/s] [内存消耗：2,050.23kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T09:19:27+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.099481s][吞吐率：10.05req/s] [内存消耗：2,751.23kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.011067s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.002199s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534123124',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000224s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010783s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007701s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000715s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000434s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000242s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000173s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000208s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006689s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000244s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 22,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000346s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 15,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T09:19:31+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html?action=inspectionUpdate
[ info ] larsun.com/ps/inspection/mark.html?action=inspectionUpdate [运行时间：0.083388s][吞吐率：11.99req/s] [内存消耗：2,536.95kb] [文件加载：75]
[ error ] [0]数据表字段不存在:[product_date][D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:107]
---------------------------------------------------------------
[ 2018-08-13T09:21:08+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.117054s][吞吐率：8.54req/s] [内存消耗：2,756.75kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.035102s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.011385s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534123168',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000415s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000751s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.015402s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000377s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.008426s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000277s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007296s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000710s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000632s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000215s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000207s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000192s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000322s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006479s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000246s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 22,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000479s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 15,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T09:21:18+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.113839s][吞吐率：8.78req/s] [内存消耗：2,756.75kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.029501s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.015710s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534123269',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000382s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010385s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.006486s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000342s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.006360s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000338s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006727s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000685s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000410s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000279s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000212s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000210s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006360s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000268s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 22,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000462s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 15,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T09:23:03+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/fresh.html
[ info ] larsun.com/ps/inspection/fresh.html [运行时间：0.103255s][吞吐率：9.68req/s] [内存消耗：2,082.01kb] [文件加载：59]
[ error ] [0]语法解析错误: syntax error, unexpected '}', expecting ',' or ')'[D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php:89]
---------------------------------------------------------------
[ 2018-08-13T09:23:04+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/fresh.html
[ info ] larsun.com/ps/inspection/fresh.html [运行时间：0.064271s][吞吐率：15.56req/s] [内存消耗：2,018.21kb] [文件加载：59]
[ error ] [0]语法解析错误: syntax error, unexpected '}', expecting ',' or ')'[D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php:89]
---------------------------------------------------------------
[ 2018-08-13T09:23:12+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/fresh.html
[ info ] larsun.com/ps/inspection/fresh.html [运行时间：0.082813s][吞吐率：12.08req/s] [内存消耗：2,082.01kb] [文件加载：59]
[ error ] [0]语法解析错误: syntax error, unexpected ';', expecting ',' or ')'[D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php:88]
---------------------------------------------------------------
[ 2018-08-13T09:26:35+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/fresh.html?action=getUnmarkData&type=3
[ info ] larsun.com/ps/inspection/fresh.html?action=getUnmarkData&type=3 [运行时间：0.083911s][吞吐率：11.92req/s] [内存消耗：2,652.81kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.009739s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001181s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'fresh',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534123594',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/fresh.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '3',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000322s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->fresh[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000777s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.015716s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000812s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008605s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '3' [ RunTime:0.000905s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 15,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T09:26:37+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/fresh?action=getGoods&purchase_id=3
[ info ] larsun.com/ps/inspection/fresh?action=getGoods&purchase_id=3 [运行时间：0.056479s][吞吐率：17.71req/s] [内存消耗：2,050.39kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T09:27:40+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/fresh?action=getPurchase&mark=2&type=3
[ info ] larsun.com/ps/inspection/fresh?action=getPurchase&mark=2&type=3 [运行时间：0.080106s][吞吐率：12.48req/s] [内存消耗：2,050.39kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T09:30:41+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/fresh.html?_pjax=.content
[ info ] larsun.com/ps/inspection/fresh.html?_pjax=.content [运行时间：0.103296s][吞吐率：9.68req/s] [内存消耗：2,632.94kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T09:30:43+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html?_pjax=.content
[ info ] larsun.com/ps/inspection/packing.html?_pjax=.content [运行时间：0.084412s][吞吐率：11.85req/s] [内存消耗：2,588.50kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T09:30:43+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.071317s][吞吐率：14.02req/s] [内存消耗：2,750.65kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.012370s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000780s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534123842',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/fresh.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000320s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.002882s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007277s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000776s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000974s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000180s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000206s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000153s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000168s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006356s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000259s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 23,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000342s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 18,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T09:32:06+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html?_pjax=.content
[ info ] larsun.com/ps/inspection/packing.html?_pjax=.content [运行时间：0.116099s][吞吐率：8.61req/s] [内存消耗：2,594.45kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T09:32:06+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.091341s][吞吐率：10.95req/s] [内存消耗：2,750.59kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.013060s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.003938s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534123856',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/recordlist.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000298s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001734s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007558s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000739s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000137s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000127s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000140s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000153s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006337s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000171s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 21,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000450s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 9,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T09:34:37+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/sorting.html?_pjax=.content
[ info ] larsun.com/ps/inspection/sorting.html?_pjax=.content [运行时间：0.124690s][吞吐率：8.02req/s] [内存消耗：2,571.93kb] [文件加载：76]
[ error ] [0]缺少更新条件[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:2208]
---------------------------------------------------------------
[ 2018-08-13T10:34:03+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.111690s][吞吐率：8.95req/s] [内存消耗：2,596.10kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T10:34:03+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.091827s][吞吐率：10.89req/s] [内存消耗：2,752.31kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.014101s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000986s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534127546',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000212s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011572s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.011644s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000860s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000377s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000218s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000214s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000186s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000160s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006064s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000137s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000298s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T10:34:30+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.122988s][吞吐率：8.13req/s] [内存消耗：2,634.65kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T10:34:35+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.153105s][吞吐率：6.53req/s] [内存消耗：2,654.51kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.014124s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000861s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534127671',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000515s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010275s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014252s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000753s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006985s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000470s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T10:38:26+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.110079s][吞吐率：9.08req/s] [内存消耗：2,465.46kb] [文件加载：75]
[ error ] [0]类不存在:app\common\model\PsInspection[D:\PHPTutorial\WWW\geek\thinkphp\library\think\Loader.php:390]
---------------------------------------------------------------
[ 2018-08-13T10:38:56+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.100252s][吞吐率：9.97req/s] [内存消耗：2,442.66kb] [文件加载：74]
[ error ] [0]method not exist:think\db\Query->addInpsection[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T10:39:01+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.110129s][吞吐率：9.08req/s] [内存消耗：2,442.66kb] [文件加载：74]
[ error ] [0]method not exist:think\db\Query->addInpsection[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T10:39:53+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.116490s][吞吐率：8.58req/s] [内存消耗：2,465.46kb] [文件加载：75]
[ error ] [0]类不存在:app\common\model\PsInspection[D:\PHPTutorial\WWW\geek\thinkphp\library\think\Loader.php:390]
---------------------------------------------------------------
[ 2018-08-13T10:40:10+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.121378s][吞吐率：8.24req/s] [内存消耗：2,471.03kb] [文件加载：75]
[ error ] [1]Class 'app\apips\model\PsBase' not found[D:\PHPTutorial\WWW\geek\app\apips\model\PsInspection.php:6]
---------------------------------------------------------------
[ 2018-08-13T10:40:30+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.122050s][吞吐率：8.19req/s] [内存消耗：2,467.13kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->addInpsection[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T10:40:47+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.116300s][吞吐率：8.60req/s] [内存消耗：2,467.13kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->inpsectionAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T10:40:58+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.110707s][吞吐率：9.03req/s] [内存消耗：2,486.18kb] [文件加载：77]
[ error ] [0]类不存在:app\common\model\PsInspectionRecord[D:\PHPTutorial\WWW\geek\thinkphp\library\think\Loader.php:390]
---------------------------------------------------------------
[ 2018-08-13T10:41:34+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.129539s][吞吐率：7.72req/s] [内存消耗：2,486.18kb] [文件加载：77]
[ error ] [0]类不存在:app\common\model\PsInspectionRecord[D:\PHPTutorial\WWW\geek\thinkphp\library\think\Loader.php:390]
---------------------------------------------------------------
[ 2018-08-13T10:42:45+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.136457s][吞吐率：7.33req/s] [内存消耗：2,483.90kb] [文件加载：77]
[ error ] [8]未定义变量: type[D:\PHPTutorial\WWW\geek\app\apips\model\PsInspection.php:39]
---------------------------------------------------------------
[ 2018-08-13T10:52:45+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/getGoods
[ info ] 192.168.3.70/apips/inspection/getGoods [运行时间：0.121090s][吞吐率：8.26req/s] [内存消耗：2,421.57kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '=', expecting ']'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:99]
---------------------------------------------------------------
[ 2018-08-13T10:52:48+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/getGoods
[ info ] 192.168.3.70/apips/inspection/getGoods [运行时间：0.073265s][吞吐率：13.65req/s] [内存消耗：2,415.62kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '=', expecting ']'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:99]
---------------------------------------------------------------
[ 2018-08-13T11:02:31+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.128321s][吞吐率：7.79req/s] [内存消耗：2,393.70kb] [文件加载：75]
[ error ] [10501]SQLSTATE[23000]: Integrity constraint violation: 1052 Column 'name' in field list is ambiguous[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T11:02:48+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.170811s][吞吐率：5.85req/s] [内存消耗：2,463.30kb] [文件加载：78]
[ error ] [10501]SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '1' for key 'PRIMARY'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:451]
---------------------------------------------------------------
[ 2018-08-13T11:03:55+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.118542s][吞吐率：8.44req/s] [内存消耗：2,463.30kb] [文件加载：78]
[ error ] [10501]SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '1' for key 'PRIMARY'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:451]
---------------------------------------------------------------
[ 2018-08-13T11:05:28+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.110398s][吞吐率：9.06req/s] [内存消耗：2,393.66kb] [文件加载：75]
[ error ] [10501]SQLSTATE[23000]: Integrity constraint violation: 1052 Column 'id' in where clause is ambiguous[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T11:06:00+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.102258s][吞吐率：9.78req/s] [内存消耗：2,393.75kb] [文件加载：75]
[ error ] [10501]SQLSTATE[23000]: Integrity constraint violation: 1052 Column 'id' in where clause is ambiguous[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T11:07:26+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.143086s][吞吐率：6.99req/s] [内存消耗：2,463.11kb] [文件加载：78]
[ error ] [10501]SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '1' for key 'PRIMARY'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:451]
---------------------------------------------------------------
[ 2018-08-13T11:32:38+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.111032s][吞吐率：9.01req/s] [内存消耗：2,596.05kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T11:32:38+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.092927s][吞吐率：10.76req/s] [内存消耗：2,752.27kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.013438s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001242s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534131148',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/recordlist.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000209s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.002236s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008832s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000702s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000794s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000353s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000345s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000296s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000355s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006909s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000341s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 2,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000407s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 2,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T11:32:40+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.085972s][吞吐率：11.63req/s] [内存消耗：2,628.70kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T11:33:09+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/fresh.html?_pjax=.content
[ info ] larsun.com/ps/inspection/fresh.html?_pjax=.content [运行时间：0.114754s][吞吐率：8.71req/s] [内存消耗：2,634.64kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T11:33:12+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/fresh.html?action=getUnmarkData&type=3
[ info ] larsun.com/ps/inspection/fresh.html?action=getUnmarkData&type=3 [运行时间：0.069447s][吞吐率：14.40req/s] [内存消耗：2,654.47kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010628s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000987s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'fresh',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534131190',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/fresh.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '3',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000219s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->fresh[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010125s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006367s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000734s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.009001s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '3' [ RunTime:0.000407s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 2,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T11:33:25+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.079082s][吞吐率：12.65req/s] [内存消耗：2,628.70kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T11:42:53+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.127402s][吞吐率：7.85req/s] [内存消耗：2,596.10kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T11:42:53+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.101920s][吞吐率：9.81req/s] [内存消耗：2,752.31kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.013976s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001177s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534131643',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000251s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011793s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.010079s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.001152s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000322s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000187s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000209s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000175s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000201s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008405s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000348s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T11:42:54+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.072817s][吞吐率：13.73req/s] [内存消耗：2,628.70kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T11:42:57+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.056146s][吞吐率：17.81req/s] [内存消耗：2,050.26kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T12:45:41+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.102117s][吞吐率：9.79req/s] [内存消耗：2,634.70kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T12:49:08+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.079965s][吞吐率：12.51req/s] [内存消耗：2,654.51kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010239s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000779s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534135746',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '1',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000256s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011568s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.015467s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000778s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.009208s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 1  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000412s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 2,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为1的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T12:49:09+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture.html
[ info ] larsun.com/ps/inspection/agriculture.html [运行时间：0.070995s][吞吐率：14.09req/s] [内存消耗：2,050.68kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T13:01:35+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.115882s][吞吐率：8.63req/s] [内存消耗：2,596.10kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T13:01:35+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.096542s][吞吐率：10.36req/s] [内存消耗：2,752.31kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.013585s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000961s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534136176',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000223s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.012507s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.011479s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000971s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000393s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000223s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000216s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000180s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000240s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007629s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000301s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000472s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T14:56:49+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.088372s][吞吐率：11.32req/s] [内存消耗：2,628.91kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T15:21:28+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.087662s][吞吐率：11.41req/s] [内存消耗：2,422.49kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '[', expecting ')'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:103]
---------------------------------------------------------------
[ 2018-08-13T15:21:34+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.089366s][吞吐率：11.19req/s] [内存消耗：2,422.49kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '[', expecting ')'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:103]
---------------------------------------------------------------
[ 2018-08-13T15:22:13+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.088281s][吞吐率：11.33req/s] [内存消耗：2,422.49kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '[', expecting ')'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:103]
---------------------------------------------------------------
[ 2018-08-13T15:22:20+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.096842s][吞吐率：10.33req/s] [内存消耗：2,422.49kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '[', expecting ')'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:103]
---------------------------------------------------------------
[ 2018-08-13T15:23:05+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.100159s][吞吐率：9.98req/s] [内存消耗：2,422.49kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '[', expecting ')'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:103]
---------------------------------------------------------------
[ 2018-08-13T15:23:21+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.089971s][吞吐率：11.11req/s] [内存消耗：2,422.49kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '[', expecting ')'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:103]
---------------------------------------------------------------
[ 2018-08-13T15:23:52+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.097833s][吞吐率：10.22req/s] [内存消耗：2,422.49kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '[', expecting ')'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:103]
---------------------------------------------------------------
[ 2018-08-13T15:26:30+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.106771s][吞吐率：9.37req/s] [内存消耗：2,422.49kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '[', expecting ')'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:103]
---------------------------------------------------------------
[ 2018-08-13T15:27:15+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.089636s][吞吐率：11.16req/s] [内存消耗：2,422.49kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '[', expecting ')'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:103]
---------------------------------------------------------------
[ 2018-08-13T15:28:08+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.108961s][吞吐率：9.18req/s] [内存消耗：2,422.67kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '[', expecting ')'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:103]
---------------------------------------------------------------
[ 2018-08-13T15:28:23+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.092590s][吞吐率：10.80req/s] [内存消耗：2,422.73kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected 'jie' (T_STRING), expecting ']'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:105]
---------------------------------------------------------------
[ 2018-08-13T15:35:13+08:00 ] 127.0.0.1 127.0.0.1 GET /api/index/index.html
[ info ] larsun.com/api/index/index.html [运行时间：0.071957s][吞吐率：13.90req/s] [内存消耗：2,060.98kb] [文件加载：55]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T15:39:22+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.065221s][吞吐率：15.33req/s] [内存消耗：2,472.25kb] [文件加载：76]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\apips\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T15:39:40+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.066488s][吞吐率：15.04req/s] [内存消耗：2,472.27kb] [文件加载：76]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\apips\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T15:44:03+08:00 ] 192.168.3.70 192.168.3.129 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] 192.168.3.70/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.073519s][吞吐率：13.60req/s] [内存消耗：2,628.67kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T15:44:04+08:00 ] 192.168.3.70 192.168.3.129 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] 192.168.3.70/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.070518s][吞吐率：14.18req/s] [内存消耗：2,654.59kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.009445s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000939s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533895740,1533968709,1534121939,1534127867; PHPSESSID=dalrsvv33o83q8uuhbt7q7k2b3; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534146245',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://192.168.3.70/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://192.168.3.70',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => '192.168.3.70',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000240s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010880s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014008s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000808s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006511s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000394s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T15:48:17+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.064987s][吞吐率：15.39req/s] [内存消耗：2,472.25kb] [文件加载：76]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\apips\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T15:49:19+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.080975s][吞吐率：12.35req/s] [内存消耗：2,438.99kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T15:49:50+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.102289s][吞吐率：9.78req/s] [内存消耗：2,438.99kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T15:50:28+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.060826s][吞吐率：16.44req/s] [内存消耗：2,438.84kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T15:50:57+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.075485s][吞吐率：13.25req/s] [内存消耗：2,438.84kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T15:51:15+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.071199s][吞吐率：14.05req/s] [内存消耗：2,439.12kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T15:53:00+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.095995s][吞吐率：10.42req/s] [内存消耗：2,445.07kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T15:56:18+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.097298s][吞吐率：10.28req/s] [内存消耗：2,445.19kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T15:57:45+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.097408s][吞吐率：10.27req/s] [内存消耗：2,445.19kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T16:00:33+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.074383s][吞吐率：13.44req/s] [内存消耗：2,439.23kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T16:01:59+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.072488s][吞吐率：13.80req/s] [内存消耗：2,439.23kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T16:02:49+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/storage.html?_pjax=.content
[ info ] larsun.com/ps/inspection/storage.html?_pjax=.content [运行时间：0.074270s][吞吐率：13.46req/s] [内存消耗：2,560.70kb] [文件加载：76]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:02:50+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.093543s][吞吐率：10.69req/s] [内存消耗：2,534.55kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:02:50+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.069140s][吞吐率：14.46req/s] [内存消耗：2,528.82kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:02:50+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.065339s][吞吐率：15.30req/s] [内存消耗：2,528.82kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:02:51+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.049859s][吞吐率：20.06req/s] [内存消耗：2,528.82kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:02:52+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.057069s][吞吐率：17.52req/s] [内存消耗：2,528.82kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:02:52+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.069519s][吞吐率：14.38req/s] [内存消耗：2,528.82kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:02:53+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.056470s][吞吐率：17.71req/s] [内存消耗：2,528.82kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:02:53+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.068806s][吞吐率：14.53req/s] [内存消耗：2,528.82kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:02:54+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.082879s][吞吐率：12.07req/s] [内存消耗：2,439.12kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T16:02:55+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.063203s][吞吐率：15.82req/s] [内存消耗：2,528.79kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:02:56+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.082747s][吞吐率：12.09req/s] [内存消耗：2,528.80kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:02:56+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.054456s][吞吐率：18.36req/s] [内存消耗：2,528.80kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:02:58+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.059547s][吞吐率：16.79req/s] [内存消耗：2,050.05kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T16:03:01+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.072630s][吞吐率：13.77req/s] [内存消耗：2,530.76kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:01+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.054582s][吞吐率：18.32req/s] [内存消耗：2,528.80kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:02+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.080258s][吞吐率：12.46req/s] [内存消耗：2,532.35kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:02+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.071070s][吞吐率：14.07req/s] [内存消耗：2,528.80kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:03+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.047106s][吞吐率：21.23req/s] [内存消耗：2,528.80kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:03+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.056817s][吞吐率：17.60req/s] [内存消耗：2,528.80kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:05+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.105464s][吞吐率：9.48req/s] [内存消耗：2,530.76kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:05+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.064922s][吞吐率：15.40req/s] [内存消耗：2,528.80kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:06+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.077702s][吞吐率：12.87req/s] [内存消耗：2,532.35kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:07+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.080015s][吞吐率：12.50req/s] [内存消耗：2,528.80kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:07+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.054927s][吞吐率：18.21req/s] [内存消耗：2,528.80kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:08+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.065346s][吞吐率：15.30req/s] [内存消耗：2,528.80kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:08+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.066603s][吞吐率：15.01req/s] [内存消耗：2,528.80kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:09+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.068712s][吞吐率：14.55req/s] [内存消耗：2,528.80kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:09+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.078812s][吞吐率：12.69req/s] [内存消耗：2,530.76kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:11+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.079795s][吞吐率：12.53req/s] [内存消耗：2,532.35kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:03:13+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html?action=recordEdit
[ info ] larsun.com/ps/inspection/storage.html?action=recordEdit [运行时间：0.056711s][吞吐率：17.63req/s] [内存消耗：2,046.50kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T16:03:22+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.094952s][吞吐率：10.53req/s] [内存消耗：2,534.53kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:04:38+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.079571s][吞吐率：12.57req/s] [内存消耗：2,439.18kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T16:07:18+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.061215s][吞吐率：16.34req/s] [内存消耗：2,439.12kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T16:09:27+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.084025s][吞吐率：11.90req/s] [内存消耗：2,439.12kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T16:10:04+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.081423s][吞吐率：12.28req/s] [内存消耗：2,439.12kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T16:11:11+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.060624s][吞吐率：16.50req/s] [内存消耗：2,439.18kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T16:13:37+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.071182s][吞吐率：14.05req/s] [内存消耗：2,439.12kb] [文件加载：74]
[ error ] [8]未定义数组下标: 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Builder.php:305]
---------------------------------------------------------------
[ 2018-08-13T16:16:10+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.064836s][吞吐率：15.42req/s] [内存消耗：2,440.70kb] [文件加载：74]
[ error ] [8]未定义数组索引: id[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:88]
---------------------------------------------------------------
[ 2018-08-13T16:16:54+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.100223s][吞吐率：9.98req/s] [内存消耗：2,445.42kb] [文件加载：74]
[ error ] [8]未定义数组索引: id[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:88]
---------------------------------------------------------------
[ 2018-08-13T16:17:16+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.114922s][吞吐率：8.70req/s] [内存消耗：2,445.46kb] [文件加载：74]
[ error ] [8]未定义数组索引: id[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:88]
---------------------------------------------------------------
[ 2018-08-13T16:17:30+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.084147s][吞吐率：11.88req/s] [内存消耗：2,445.46kb] [文件加载：74]
[ error ] [2]implode(): Invalid arguments passed[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:88]
---------------------------------------------------------------
[ 2018-08-13T16:18:05+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.079381s][吞吐率：12.60req/s] [内存消耗：2,440.93kb] [文件加载：74]
[ error ] [2]explode() expects parameter 1 to be string, array given[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:88]
---------------------------------------------------------------
[ 2018-08-13T16:18:32+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.116406s][吞吐率：8.59req/s] [内存消耗：2,445.50kb] [文件加载：74]
[ error ] [2]implode(): Invalid arguments passed[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:88]
---------------------------------------------------------------
[ 2018-08-13T16:18:49+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.128469s][吞吐率：7.78req/s] [内存消耗：2,445.50kb] [文件加载：74]
[ error ] [2]implode(): Invalid arguments passed[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:88]
---------------------------------------------------------------
[ 2018-08-13T16:19:05+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.068427s][吞吐率：14.61req/s] [内存消耗：2,440.47kb] [文件加载：74]
[ error ] [2]implode(): Invalid arguments passed[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:88]
---------------------------------------------------------------
[ 2018-08-13T16:19:38+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.097383s][吞吐率：10.27req/s] [内存消耗：2,445.53kb] [文件加载：74]
[ error ] [8]未定义变量: good_id[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:88]
---------------------------------------------------------------
[ 2018-08-13T16:20:35+08:00 ] 192.168.3.70 192.168.3.70 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.183325s][吞吐率：5.45req/s] [内存消耗：2,513.30kb] [文件加载：77]
[ error ] [1]Cannot redeclare app\apips\model\unique() (previously declared in D:\PHPTutorial\WWW\geek\app\apips\model\PsInspection.php:173)[D:\PHPTutorial\WWW\geek\app\apips\model\PsInspection.php:172]
---------------------------------------------------------------
[ 2018-08-13T16:22:34+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/sorting.html?_pjax=.content
[ info ] larsun.com/ps/inspection/sorting.html?_pjax=.content [运行时间：0.128489s][吞吐率：7.78req/s] [内存消耗：2,573.27kb] [文件加载：76]
[ error ] [0]缺少更新条件[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:2208]
---------------------------------------------------------------
[ 2018-08-13T16:22:37+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/storage.html?_pjax=.content
[ info ] larsun.com/ps/inspection/storage.html?_pjax=.content [运行时间：0.077610s][吞吐率：12.88req/s] [内存消耗：2,560.70kb] [文件加载：76]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:22:38+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.101544s][吞吐率：9.85req/s] [内存消耗：2,534.55kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:22:45+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/storage.html
[ info ] larsun.com/ps/inspection/storage.html [运行时间：0.096848s][吞吐率：10.33req/s] [内存消耗：2,534.55kb] [文件加载：75]
[ error ] [0]method not exist:think\db\Query->storageAdd[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T16:24:19+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/storage.html?_pjax=.content
[ info ] larsun.com/ps/inspection/storage.html?_pjax=.content [运行时间：0.112080s][吞吐率：8.92req/s] [内存消耗：2,573.27kb] [文件加载：76]
[ error ] [0]缺少更新条件[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:2208]
---------------------------------------------------------------
[ 2018-08-13T16:24:37+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/storage.html?_pjax=.content
[ info ] larsun.com/ps/inspection/storage.html?_pjax=.content [运行时间：0.114577s][吞吐率：8.73req/s] [内存消耗：2,573.27kb] [文件加载：76]
[ error ] [0]缺少更新条件[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:2208]
---------------------------------------------------------------
[ 2018-08-13T16:26:32+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/sorting.html?_pjax=.content
[ info ] larsun.com/ps/inspection/sorting.html?_pjax=.content [运行时间：0.121904s][吞吐率：8.20req/s] [内存消耗：2,573.27kb] [文件加载：76]
[ error ] [0]缺少更新条件[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:2208]
---------------------------------------------------------------
[ 2018-08-13T16:27:15+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/sorting.html?_pjax=.content
[ info ] larsun.com/ps/inspection/sorting.html?_pjax=.content [运行时间：0.105192s][吞吐率：9.51req/s] [内存消耗：2,573.32kb] [文件加载：76]
[ error ] [0]缺少更新条件[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:2208]
---------------------------------------------------------------
[ 2018-08-13T16:27:23+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/sorting.html?_pjax=.content
[ info ] larsun.com/ps/inspection/sorting.html?_pjax=.content [运行时间：0.110564s][吞吐率：9.04req/s] [内存消耗：2,567.32kb] [文件加载：76]
[ error ] [0]缺少更新条件[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:2208]
---------------------------------------------------------------
[ 2018-08-13T16:27:27+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.106199s][吞吐率：9.42req/s] [内存消耗：2,634.82kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T16:30:19+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.060491s][吞吐率：16.53req/s] [内存消耗：2,440.93kb] [文件加载：74]
[ error ] [2]explode() expects parameter 2 to be string, array given[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:88]
---------------------------------------------------------------
[ 2018-08-13T16:31:38+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/inspectionAdd
[ info ] 192.168.3.70/apips/inspection/inspectionAdd [运行时间：0.067545s][吞吐率：14.80req/s] [内存消耗：2,440.87kb] [文件加载：74]
[ error ] [2]explode() expects parameter 2 to be string, array given[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:88]
---------------------------------------------------------------
[ 2018-08-13T16:31:40+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.089639s][吞吐率：11.16req/s] [内存消耗：2,628.87kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T16:32:56+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.093926s][吞吐率：10.65req/s] [内存消耗：2,654.68kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.012809s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000744s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149105',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000207s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011396s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.009652s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000766s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008725s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000418s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 12,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:32:58+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getPurchase&mark=2&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getPurchase&mark=2&type=1 [运行时间：0.076213s][吞吐率：13.12req/s] [内存消耗：2,050.45kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T16:33:02+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.074838s][吞吐率：13.36req/s] [内存消耗：2,654.68kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.013010s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000744s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149105',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000206s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000922s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007321s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000783s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.009403s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000470s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 12,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:33:31+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/fresh.html?_pjax=.content
[ info ] larsun.com/ps/inspection/fresh.html?_pjax=.content [运行时间：0.111578s][吞吐率：8.96req/s] [内存消耗：2,634.81kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T16:33:34+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/fresh.html?action=getUnmarkData&type=3
[ info ] larsun.com/ps/inspection/fresh.html?action=getUnmarkData&type=3 [运行时间：0.080764s][吞吐率：12.38req/s] [内存消耗：2,654.64kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010850s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001125s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'fresh',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149212',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/fresh.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '3',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000285s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->fresh[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010755s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.016480s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000693s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008384s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '3' [ RunTime:0.000429s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 12,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:33:48+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/fresh.html?_pjax=.content
[ info ] larsun.com/ps/inspection/fresh.html?_pjax=.content [运行时间：0.092233s][吞吐率：10.84req/s] [内存消耗：2,628.81kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T16:33:51+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/fresh.html?action=getUnmarkData&type=3
[ info ] larsun.com/ps/inspection/fresh.html?action=getUnmarkData&type=3 [运行时间：0.102164s][吞吐率：9.79req/s] [内存消耗：2,654.64kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.017472s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000986s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'fresh',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149229',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/fresh.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '3',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000213s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->fresh[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011258s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.016042s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.001183s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006731s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '3' [ RunTime:0.000507s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:33:54+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.130692s][吞吐率：7.65req/s] [内存消耗：2,596.23kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T16:33:54+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.091439s][吞吐率：10.94req/s] [内存消耗：2,752.44kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.014870s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001164s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149229',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/fresh.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000503s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000991s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008040s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.001539s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000378s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000214s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000203s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000166s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000187s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.010271s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000257s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 12,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000353s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:38:09+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.092408s][吞吐率：10.82req/s] [内存消耗：2,590.27kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T16:38:10+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.099959s][吞吐率：10.00req/s] [内存消耗：2,753.56kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.011018s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000692s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149270',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/recordlist.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000678s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.012370s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014774s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.001329s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000484s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000337s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000253s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000210s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.009801s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000343s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000518s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 19,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:38:13+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.077628s][吞吐率：12.88req/s] [内存消耗：2,659.71kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.011549s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000996s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149490',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'purchase_id' => '2',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000224s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011612s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014013s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000852s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006823s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `qwj_ps_inspection_record` WHERE  `purchase_id` = 2  AND `record_type` = 2 LIMIT 1 [ RunTime:0.000231s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000383s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 19,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:38:15+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.067404s][吞吐率：14.84req/s] [内存消耗：2,061.09kb] [文件加载：55]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T16:38:16+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.104825s][吞吐率：9.54req/s] [内存消耗：2,755.73kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010026s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.021088s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149490',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/recordlist.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000309s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010487s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.007470s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000446s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008328s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000767s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000412s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000282s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000353s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006807s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000453s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000408s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 19,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:38:17+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.071751s][吞吐率：13.94req/s] [内存消耗：2,659.71kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010391s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000721s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149496',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'purchase_id' => '2',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000207s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011056s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014363s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000700s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007068s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `qwj_ps_inspection_record` WHERE  `purchase_id` = 2  AND `record_type` = 2 LIMIT 1 [ RunTime:0.000277s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000409s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 19,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:38:45+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.119945s][吞吐率：8.34req/s] [内存消耗：2,759.28kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.037046s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.011190s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149496',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/recordlist.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000495s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010269s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.014914s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000516s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.008096s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000290s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007877s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000745s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000406s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000247s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000202s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000324s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000215s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006175s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000236s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000525s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 19,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:38:47+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.113534s][吞吐率：8.81req/s] [内存消耗：2,546.59kb] [文件加载：79]
[ error ] [10501]SQLSTATE[23000]: Integrity constraint violation: 1052 Column 'status' in where clause is ambiguous[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T16:38:54+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.109689s][吞吐率：9.12req/s] [内存消耗：2,759.28kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.037178s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.011586s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149526',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/recordlist.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000377s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011066s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.015398s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000478s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.008035s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000333s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007313s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000790s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000459s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000291s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000334s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000248s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000295s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008024s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000294s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 14,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000483s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 25,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:38:55+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.116088s][吞吐率：8.61req/s] [内存消耗：2,546.59kb] [文件加载：79]
[ error ] [10501]SQLSTATE[23000]: Integrity constraint violation: 1052 Column 'status' in where clause is ambiguous[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T16:39:06+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.123003s][吞吐率：8.13req/s] [内存消耗：2,759.28kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.036127s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.010893s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149534',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/recordlist.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000383s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010419s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.015028s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000384s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.007236s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000567s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006957s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000660s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000481s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000280s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000231s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000201s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000233s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007105s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000319s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 15,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000413s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 31,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:39:17+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.116290s][吞吐率：8.60req/s] [内存消耗：2,759.28kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.034217s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.012693s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149547',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/recordlist.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000465s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010396s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.007218s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000383s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.006587s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000322s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007356s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000673s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000366s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000270s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000267s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000204s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007083s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000291s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 15,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000439s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 31,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:39:49+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html?_pjax=.content
[ info ] larsun.com/ps/inspection/packing.html?_pjax=.content [运行时间：0.120172s][吞吐率：8.32req/s] [内存消耗：2,596.28kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T16:39:49+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.074450s][吞吐率：13.43req/s] [内存消耗：2,752.48kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.009723s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001357s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149558',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000232s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000821s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.009249s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000700s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000390s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000211s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000209s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000191s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008600s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000236s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 15,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000482s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 31,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:39:51+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.095800s][吞吐率：10.44req/s] [内存消耗：2,752.68kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.009683s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001745s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149590',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000455s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000807s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014842s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000793s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000446s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000249s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000208s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000206s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000201s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007396s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000246s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 15,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000473s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 31,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:39:52+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.094633s][吞吐率：10.57req/s] [内存消耗：2,590.27kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T16:39:53+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.087557s][吞吐率：11.42req/s] [内存消耗：2,753.56kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010416s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000962s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149592',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/packing.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000229s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010762s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007239s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000798s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000423s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000175s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000130s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000131s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000163s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006428s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000175s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 15,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000406s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 31,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:39:55+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/recordlist.html?_pjax=.content
[ info ] larsun.com/ps/inspection/recordlist.html?_pjax=.content [运行时间：0.086461s][吞吐率：11.57req/s] [内存消耗：2,050.59kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T16:39:55+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/recordlist.html
[ info ] larsun.com/ps/inspection/recordlist.html [运行时间：0.053089s][吞吐率：18.84req/s] [内存消耗：2,057.26kb] [文件加载：55]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T16:39:58+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/sorting.html?_pjax=.content
[ info ] larsun.com/ps/inspection/sorting.html?_pjax=.content [运行时间：0.088325s][吞吐率：11.32req/s] [内存消耗：2,567.32kb] [文件加载：76]
[ error ] [0]缺少更新条件[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:2208]
---------------------------------------------------------------
[ 2018-08-13T16:40:00+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.073569s][吞吐率：13.59req/s] [内存消耗：2,050.59kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T16:40:00+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html
[ info ] larsun.com/ps/inspection/agriculture.html [运行时间：0.065892s][吞吐率：15.18req/s] [内存消耗：2,057.27kb] [文件加载：55]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T16:40:03+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.104957s][吞吐率：9.53req/s] [内存消耗：2,590.32kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T16:40:03+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.074756s][吞吐率：13.38req/s] [内存消耗：2,753.61kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.011734s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000912s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149601',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000344s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000731s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006980s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000786s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000446s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000324s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000320s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000293s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007874s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000234s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 15,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.001034s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 31,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:40:51+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.105042s][吞吐率：9.52req/s] [内存消耗：2,759.33kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.036102s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.011082s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149604',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000378s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010341s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.013922s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000347s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.008124s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000271s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006546s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000650s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000401s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000292s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000220s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000205s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000241s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006500s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000399s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 15,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000451s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 31,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:43:33+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.084466s][吞吐率：11.84req/s] [内存消耗：2,521.30kb] [文件加载：78]
[ error ] [10501]SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_insp' at line 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T16:43:44+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.087585s][吞吐率：11.42req/s] [内存消耗：2,521.27kb] [文件加载：78]
[ error ] [10501]SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'IN JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_i' at line 1[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T16:47:45+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.130237s][吞吐率：7.68req/s] [内存消耗：2,763.32kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.033081s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.011985s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534149652',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000423s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001082s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.015380s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000409s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.007341s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000295s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007940s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000634s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000279s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000133s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000123s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000134s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000268s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007171s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000356s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection` [ RunTime:0.006833s ]
[ sql ] [ SQL ] SELECT `ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection` `ps_inspection` INNER JOIN `qwj_ps_inspection_record` `ps_inspection_record` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000325s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 37,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:47:47+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.083460s][吞吐率：11.98req/s] [内存消耗：2,663.23kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.019944s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.002192s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150066',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'purchase_id' => '2',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000317s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000888s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008921s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.001225s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008240s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `qwj_ps_inspection_record` WHERE  `purchase_id` = 2  AND `record_type` = 2 LIMIT 1 [ RunTime:0.000330s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection` [ RunTime:0.009685s ]
[ sql ] [ SQL ] SELECT `ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection` `ps_inspection` INNER JOIN `qwj_ps_inspection_record` `ps_inspection_record` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = '2'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000580s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 37,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:47:55+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.097485s][吞吐率：10.26req/s] [内存消耗：2,663.23kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.011801s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000870s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150066',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'purchase_id' => '4',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000208s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000862s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014945s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000798s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006349s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `qwj_ps_inspection_record` WHERE  `purchase_id` = 4  AND `record_type` = 2 LIMIT 1 [ RunTime:0.000293s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection` [ RunTime:0.006790s ]
[ sql ] [ SQL ] SELECT `ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection` `ps_inspection` INNER JOIN `qwj_ps_inspection_record` `ps_inspection_record` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = '4'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000467s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 37,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:48:09+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.114282s][吞吐率：8.75req/s] [内存消耗：2,762.76kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.027306s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.017032s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150066',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000522s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001126s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.010254s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000504s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.011367s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000358s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008041s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000588s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000339s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000163s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000192s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000133s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000192s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006453s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000218s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection` [ RunTime:0.006536s ]
[ sql ] [ SQL ] SELECT `ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection` `ps_inspection` INNER JOIN `qwj_ps_inspection_record` `ps_inspection_record` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000322s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 37,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:48:11+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.102733s][吞吐率：9.73req/s] [内存消耗：2,663.17kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.011577s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000842s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150090',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'purchase_id' => '2',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000392s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.009961s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.015843s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000770s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006428s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `qwj_ps_inspection_record` WHERE  `purchase_id` = 2  AND `record_type` = 2 LIMIT 1 [ RunTime:0.000296s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection` [ RunTime:0.006972s ]
[ sql ] [ SQL ] SELECT `ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection` `ps_inspection` INNER JOIN `qwj_ps_inspection_record` `ps_inspection_record` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = '2'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000469s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 37,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:48:13+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.115807s][吞吐率：8.64req/s] [内存消耗：2,762.76kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.035327s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.014034s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150090',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000376s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001118s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.017008s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000383s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.010138s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000322s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006810s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000662s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000457s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000219s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000198s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000200s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000214s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007018s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000242s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection` [ RunTime:0.007540s ]
[ sql ] [ SQL ] SELECT `ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection` `ps_inspection` INNER JOIN `qwj_ps_inspection_record` `ps_inspection_record` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000422s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 37,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:48:15+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.088721s][吞吐率：11.27req/s] [内存消耗：2,663.17kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.012319s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001221s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150094',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'purchase_id' => '2',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000285s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010945s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.015384s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000832s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.009715s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `qwj_ps_inspection_record` WHERE  `purchase_id` = 2  AND `record_type` = 2 LIMIT 1 [ RunTime:0.000327s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection` [ RunTime:0.006888s ]
[ sql ] [ SQL ] SELECT `ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection` `ps_inspection` INNER JOIN `qwj_ps_inspection_record` `ps_inspection_record` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = '2'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000505s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 37,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:48:34+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.127687s][吞吐率：7.83req/s] [内存消耗：2,759.33kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.037800s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.009638s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150094',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000390s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010951s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.015102s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000417s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.006663s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000292s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008413s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000653s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000394s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000284s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000194s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000171s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000193s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007092s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000480s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 37,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:49:14+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.112829s][吞吐率：8.86req/s] [内存消耗：2,759.33kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.035956s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.010170s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150115',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000420s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000958s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.015513s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000448s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.006212s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000289s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007357s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.001203s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000551s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000314s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000225s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000141s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000155s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006839s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000397s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 37,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:49:21+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.104877s][吞吐率：9.53req/s] [内存消耗：2,753.81kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.013069s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001481s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150155',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000212s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010881s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014738s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.001023s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000449s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000305s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006872s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000285s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000420s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 37,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:50:34+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.124520s][吞吐率：8.03req/s] [内存消耗：2,759.56kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.042423s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.012113s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150162',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000378s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010351s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.017362s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000341s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.008789s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000312s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006265s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000771s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000340s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000242s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000410s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000260s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000336s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006547s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000240s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000531s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 37,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:50:41+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.090681s][吞吐率：11.03req/s] [内存消耗：2,754.05kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.012072s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001106s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150235',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000211s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011451s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014191s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000787s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000426s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000293s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000277s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000268s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006965s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000539s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 37,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:50:49+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.109023s][吞吐率：9.17req/s] [内存消耗：2,634.87kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T16:50:51+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.075904s][吞吐率：13.17req/s] [内存消耗：2,654.66kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010690s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001025s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150250',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000338s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001019s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.016429s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000895s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008167s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000462s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 37,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:50:53+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture.html
[ info ] larsun.com/ps/inspection/agriculture.html [运行时间：0.073626s][吞吐率：13.58req/s] [内存消耗：2,050.68kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T16:54:14+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.088012s][吞吐率：11.36req/s] [内存消耗：2,654.66kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.013609s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000727s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150452',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000863s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000707s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.015470s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000759s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008880s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000454s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 39,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:55:27+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.080545s][吞吐率：12.42req/s] [内存消耗：2,654.73kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010103s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001449s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150526',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000310s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011329s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.016492s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000810s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008451s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000391s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:55:45+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.114686s][吞吐率：8.72req/s] [内存消耗：2,634.87kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T16:55:49+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.098851s][吞吐率：10.12req/s] [内存消耗：2,664.46kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.030874s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.013835s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150546',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000468s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001065s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.016168s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000345s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.010778s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000295s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.009495s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000888s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007131s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000291s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:57:07+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.067417s][吞吐率：14.83req/s] [内存消耗：2,655.73kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010522s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000919s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150626',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000309s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000745s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.011295s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000824s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008828s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000522s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:57:32+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.098309s][吞吐率：10.17req/s] [内存消耗：2,635.87kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T16:57:34+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.072667s][吞吐率：13.76req/s] [内存消耗：2,655.73kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.011462s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000861s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150653',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000212s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011654s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007890s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000803s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008107s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000463s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 2,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:57:45+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.114074s][吞吐率：8.77req/s] [内存消耗：2,597.32kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T16:57:45+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.086278s][吞吐率：11.59req/s] [内存消耗：2,753.78kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.014132s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000875s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150653',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000256s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010075s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006970s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000768s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000482s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000620s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000199s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000237s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006813s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000305s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000399s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:57:47+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.104285s][吞吐率：9.59req/s] [内存消耗：2,686.89kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010588s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000704s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150666',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'purchase_id' => '2',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000214s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000909s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014987s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000868s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006765s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `qwj_ps_inspection_record` WHERE  `purchase_id` = 2  AND `record_type` = 2 LIMIT 1 [ RunTime:0.000296s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id` FROM `qwj_ps_inspection_record` ORDER BY id desc LIMIT 1 [ RunTime:0.000248s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'index',
  'possible_keys' => NULL,
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using index',
) ]
[ sql ] [ SQL ] SELECT `id` FROM `qwj_ps_inspection_record` WHERE  `goods_batch` = 'ZJ20180813165747731505' LIMIT 1 [ RunTime:0.000193s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_purchase_goods` [ RunTime:0.008328s ]
[ sql ] [ SQL ] SELECT `name`,`provider_id`,`goods_id`,`num`,`unit` FROM `qwj_ps_purchase_goods` WHERE  `purchase_id` = 2 [ RunTime:0.000319s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_purchase_goods',
  'type' => 'ref',
  'possible_keys' => 'purchase_id',
  'key' => 'purchase_id',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 6,
  'extra' => '',
) ]
[ sql ] [ SQL ] INSERT INTO `qwj_ps_inspection_record` (`id` , `purchase_id` , `record_type` , `goods_batch` , `record_date` , `update_time` , `create_time` , `status` , `name`) VALUES (4 , 2 , 2 , 'ZJ20180813165747731505' , '2018-08-13' , 1534150667 , 1534150667 , 0 , '标品收货记录表') [ RunTime:0.000232s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection` [ RunTime:0.006509s ]
[ sql ] [ SQL ] INSERT INTO `qwj_ps_inspection` (`name` , `goods_id` , `provider_id` , `product_total` , `status` , `update_time` , `create_time` , `product_unit` , `record_id`) SELECT '福临门压榨一级葵花籽油5L',4,9,20,'1',1534150667,1534150667,'0',4 UNION ALL SELECT '福临门非转压榨一级菜籽油5L',5,8,50,'1',1534150667,1534150667,'0',4 UNION ALL SELECT '福临门黄金产地玉米油5L',6,8,15,'1',1534150667,1534150667,'0',4 UNION ALL SELECT '福临门黄金产地玉米油1.8L',7,8,30,'1',1534150667,1534150667,'0',4 UNION ALL SELECT '金浩油茶籽油2.5L',8,8,100,'1',1534150667,1534150667,'0',4 UNION ALL SELECT '金浩纯茶籽油750ml*2',9,8,20,'1',1534150667,1534150667,'0',4 [ RunTime:0.000674s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000482s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 10,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:57:51+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.119828s][吞吐率：8.35req/s] [内存消耗：2,760.56kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.034901s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.009077s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150666',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000449s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010205s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.014434s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000343s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.006269s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000263s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006708s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000642s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000356s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000203s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000199s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000196s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000210s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006429s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000252s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 4,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000323s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 10,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:58:19+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.087946s][吞吐率：11.37req/s] [内存消耗：2,660.73kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.012444s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000876s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150672',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'purchase_id' => '2',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000204s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000985s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014670s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000959s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006350s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `qwj_ps_inspection_record` WHERE  `purchase_id` = 2  AND `record_type` = 2 LIMIT 1 [ RunTime:0.000256s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 4,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000424s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 10,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:58:23+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.130068s][吞吐率：7.69req/s] [内存消耗：2,692.44kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.040211s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.010825s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150672',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'purchase_id' => '4',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000380s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011067s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.015888s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000348s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.007556s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000298s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006914s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000700s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006504s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `qwj_ps_inspection_record` WHERE  `purchase_id` = 4  AND `record_type` = 2 LIMIT 1 [ RunTime:0.000214s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 4,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id` FROM `qwj_ps_inspection_record` ORDER BY id desc LIMIT 1 [ RunTime:0.000210s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'index',
  'possible_keys' => NULL,
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using index',
) ]
[ sql ] [ SQL ] SELECT `id` FROM `qwj_ps_inspection_record` WHERE  `goods_batch` = 'ZJ20180813165823157950' LIMIT 1 [ RunTime:0.000276s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 4,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_purchase_goods` [ RunTime:0.006544s ]
[ sql ] [ SQL ] SELECT `name`,`provider_id`,`goods_id`,`num`,`unit` FROM `qwj_ps_purchase_goods` WHERE  `purchase_id` = 4 [ RunTime:0.000288s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_purchase_goods',
  'type' => 'ref',
  'possible_keys' => 'purchase_id',
  'key' => 'purchase_id',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 6,
  'extra' => '',
) ]
[ sql ] [ SQL ] INSERT INTO `qwj_ps_inspection_record` (`id` , `purchase_id` , `record_type` , `goods_batch` , `record_date` , `update_time` , `create_time` , `status` , `name`) VALUES (5 , 4 , 2 , 'ZJ20180813165823157950' , '2018-08-13' , 1534150703 , 1534150703 , 0 , '标品收货记录表') [ RunTime:0.000284s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection` [ RunTime:0.006380s ]
[ sql ] [ SQL ] INSERT INTO `qwj_ps_inspection` (`name` , `goods_id` , `provider_id` , `product_total` , `status` , `update_time` , `create_time` , `product_unit` , `record_id`) SELECT '福临门压榨一级葵花籽油5L',4,9,20,'1',1534150703,1534150703,'0',5 UNION ALL SELECT '福临门非转压榨一级菜籽油5L',5,8,50,'1',1534150703,1534150703,'0',5 UNION ALL SELECT '福临门黄金产地玉米油5L',6,8,15,'1',1534150703,1534150703,'0',5 UNION ALL SELECT '福临门黄金产地玉米油1.8L',7,8,30,'1',1534150703,1534150703,'0',5 UNION ALL SELECT '金浩油茶籽油2.5L',8,8,100,'1',1534150703,1534150703,'0',5 UNION ALL SELECT '金浩纯茶籽油750ml*2',9,8,20,'1',1534150703,1534150703,'0',5 [ RunTime:0.000674s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000456s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T16:58:37+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.086987s][吞吐率：11.50req/s] [内存消耗：2,660.73kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.013470s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000892s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150672',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'purchase_id' => '2',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000242s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.012365s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.015316s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000846s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006451s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `qwj_ps_inspection_record` WHERE  `purchase_id` = 2  AND `record_type` = 2 LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 5,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000504s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 16,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:01:49+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.077136s][吞吐率：12.96req/s] [内存消耗：2,660.73kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.012533s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000868s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150672',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'purchase_id' => '4',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.001172s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010909s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006705s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000753s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008107s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `qwj_ps_inspection_record` WHERE  `purchase_id` = 4  AND `record_type` = 2 LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 6,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000427s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 18,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:02:12+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.115847s][吞吐率：8.63req/s] [内存消耗：2,760.59kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.031112s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.014323s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150672',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000478s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000957s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.010919s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000407s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.010574s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000269s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007281s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000608s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000360s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000173s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000190s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000188s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000229s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006817s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000228s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 6,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000506s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 18,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:04:05+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.142168s][吞吐率：7.03req/s] [内存消耗：2,660.44kb] [文件加载：79]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:152]
---------------------------------------------------------------
[ 2018-08-13T17:04:07+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.100928s][吞吐率：9.91req/s] [内存消耗：2,654.92kb] [文件加载：79]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:152]
---------------------------------------------------------------
[ 2018-08-13T17:04:31+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.123321s][吞吐率：8.11req/s] [内存消耗：2,660.44kb] [文件加载：79]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:152]
---------------------------------------------------------------
[ 2018-08-13T17:05:01+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.114053s][吞吐率：8.77req/s] [内存消耗：2,760.59kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.044822s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.011284s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534150933',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000376s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010725s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.014040s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000368s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.008315s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000296s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006970s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000682s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000552s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000298s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000249s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000255s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006382s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 6,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000407s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 18,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:05:26+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.114878s][吞吐率：8.70req/s] [内存消耗：2,760.59kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.042975s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.011960s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534151102',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000382s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010008s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.014440s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000371s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.008347s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000299s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007161s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000770s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000413s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000315s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000269s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000260s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000308s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006413s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000338s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 6,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000513s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 19,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:07:28+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.120413s][吞吐率：8.30req/s] [内存消耗：2,759.50kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.034793s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.012004s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534151127',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000376s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001059s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.017430s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000365s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.008657s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000229s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008386s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000647s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 70,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000401s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 70,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000241s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000399s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 70,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006798s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000358s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:07:32+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.114885s][吞吐率：8.70req/s] [内存消耗：2,760.63kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.044403s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.011961s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534151249',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000377s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.009911s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.016013s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000359s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.008151s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000374s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007568s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000651s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 70,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000304s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 70,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000204s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000188s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000160s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000152s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 70,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007046s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000261s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000588s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:08:47+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.134224s][吞吐率：7.45req/s] [内存消耗：2,760.66kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.030022s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.013497s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534151253',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000377s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000870s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.013783s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000347s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.008143s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000168s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006513s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000731s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000268s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000247s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006306s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`check_status` = '1'  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000397s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:09:38+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/sorting.html?_pjax=.content
[ info ] larsun.com/ps/inspection/sorting.html?_pjax=.content [运行时间：0.100736s][吞吐率：9.93req/s] [内存消耗：2,567.32kb] [文件加载：76]
[ error ] [0]缺少更新条件[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:2208]
---------------------------------------------------------------
[ 2018-08-13T17:09:43+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.113044s][吞吐率：8.85req/s] [内存消耗：2,597.27kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T17:09:43+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.085172s][吞吐率：11.74req/s] [内存消耗：2,754.55kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.017194s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001319s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534151380',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/sorting.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000257s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000753s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007082s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.001425s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000377s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000215s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000140s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000128s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000153s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.009006s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000220s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 4,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 2  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000270s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 6,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为2的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:09:58+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html?_pjax=.content
[ info ] larsun.com/ps/inspection/packing.html?_pjax=.content [运行时间：0.127287s][吞吐率：7.86req/s] [内存消耗：2,597.33kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T17:09:58+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.099225s][吞吐率：10.08req/s] [内存消耗：2,753.46kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.022052s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.002238s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534151384',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000217s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000646s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.010240s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000641s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000239s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000207s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000564s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000286s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006644s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000177s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 6,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000521s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 18,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:10:08+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/fresh.html?_pjax=.content
[ info ] larsun.com/ps/inspection/fresh.html?_pjax=.content [运行时间：0.096022s][吞吐率：10.41req/s] [内存消耗：2,635.81kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T17:10:10+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html?_pjax=.content
[ info ] larsun.com/ps/inspection/packing.html?_pjax=.content [运行时间：0.091719s][吞吐率：10.90req/s] [内存消耗：2,591.38kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T17:10:10+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.092136s][吞吐率：10.85req/s] [内存消耗：2,753.46kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.015927s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001922s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534151409',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/fresh.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000361s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000634s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006835s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000670s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000346s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000140s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000132s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000131s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000184s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008426s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000218s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 6,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000477s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 18,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:10:14+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.117418s][吞吐率：8.52req/s] [内存消耗：2,597.27kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T17:10:14+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.085736s][吞吐率：11.66req/s] [内存消耗：2,754.55kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.014801s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.003002s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534151411',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/packing.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000236s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000598s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.009510s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000749s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000306s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000144s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000130s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000164s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000586s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007872s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000228s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 6,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000347s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 18,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:10:16+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html?_pjax=.content
[ info ] larsun.com/ps/inspection/packing.html?_pjax=.content [运行时间：0.104826s][吞吐率：9.54req/s] [内存消耗：2,591.38kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T17:10:16+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.082208s][吞吐率：12.16req/s] [内存消耗：2,753.46kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.013945s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000801s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534151415',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000376s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000674s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.010480s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000759s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000401s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000146s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000157s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000138s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000167s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.010036s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000179s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 6,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000319s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 18,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:10:57+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.136588s][吞吐率：7.32req/s] [内存消耗：2,759.43kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.045293s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.009554s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534151417',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000542s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010494s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.017576s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000517s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.006632s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000309s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007469s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000787s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000402s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000280s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000345s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000277s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000255s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006983s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000269s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 6,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000396s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 18,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:16:43+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.110105s][吞吐率：9.08req/s] [内存消耗：2,636.12kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T17:16:45+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.076315s][吞吐率：13.10req/s] [内存消耗：2,655.91kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.008665s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000719s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534151803',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000240s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011451s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.016266s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000872s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007142s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000458s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 24,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:16:47+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture.html
[ info ] larsun.com/ps/inspection/agriculture.html [运行时间：0.052065s][吞吐率：19.21req/s] [内存消耗：2,050.68kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T17:17:02+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.123816s][吞吐率：8.08req/s] [内存消耗：2,597.57kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T17:17:02+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.099870s][吞吐率：10.01req/s] [内存消耗：2,754.84kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.014509s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000954s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534151803',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000206s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.014068s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008103s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000757s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000985s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000407s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006397s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 8,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000430s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 25,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:17:04+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.097039s][吞吐率：10.31req/s] [内存消耗：2,630.16kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T17:17:09+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.118727s][吞吐率：8.42req/s] [内存消耗：2,597.57kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T17:17:16+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.076052s][吞吐率：13.15req/s] [内存消耗：2,655.91kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.009163s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000752s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534151835',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '1',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.001159s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000732s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014113s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000764s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007943s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 1  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000512s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 25,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为1的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T17:17:18+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getGoods&purchase_id=1
[ info ] larsun.com/ps/inspection/agriculture?action=getGoods&purchase_id=1 [运行时间：0.057983s][吞吐率：17.25req/s] [内存消耗：2,050.45kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T17:40:10+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.088579s][吞吐率：11.29req/s] [内存消耗：2,423.10kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '$rdata' (T_VARIABLE), expecting ';'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:65]
---------------------------------------------------------------
[ 2018-08-13T17:40:17+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.097800s][吞吐率：10.22req/s] [内存消耗：2,423.10kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '$rdata' (T_VARIABLE), expecting ';'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:65]
---------------------------------------------------------------
[ 2018-08-13T17:48:26+08:00 ] 127.0.0.1 127.0.0.1 POST /apips/inspection/getdatabypurchase.html
[ info ] larsun.com/apips/inspection/getdatabypurchase.html [运行时间：0.110908s][吞吐率：9.02req/s] [内存消耗：2,386.40kb] [文件加载：74]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column 'ps_inspection_record.status' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T17:48:28+08:00 ] 127.0.0.1 127.0.0.1 POST /apips/inspection/getdatabypurchase.html
[ info ] larsun.com/apips/inspection/getdatabypurchase.html [运行时间：0.064256s][吞吐率：15.56req/s] [内存消耗：2,380.95kb] [文件加载：74]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column 'ps_inspection_record.status' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T17:48:35+08:00 ] 127.0.0.1 127.0.0.1 POST /apips/inspection/getdatabypurchase.html
[ info ] larsun.com/apips/inspection/getdatabypurchase.html [运行时间：0.065647s][吞吐率：15.23req/s] [内存消耗：2,380.95kb] [文件加载：74]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column 'ps_inspection_record.status' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T17:48:41+08:00 ] 127.0.0.1 127.0.0.1 POST /apips/inspection/getdatabypurchase.html
[ info ] larsun.com/apips/inspection/getdatabypurchase.html [运行时间：0.088797s][吞吐率：11.26req/s] [内存消耗：2,386.40kb] [文件加载：74]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column 'ps_inspection_record.status' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T17:51:13+08:00 ] 127.0.0.1 127.0.0.1 POST /apips/inspection/getdatabypurchase.html
[ info ] larsun.com/apips/inspection/getdatabypurchase.html [运行时间：0.103028s][吞吐率：9.71req/s] [内存消耗：2,416.74kb] [文件加载：76]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column 'user_token' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T17:53:19+08:00 ] 127.0.0.1 127.0.0.1 POST /apips/inspection/getdatabypurchase.html
[ info ] larsun.com/apips/inspection/getdatabypurchase.html [运行时间：0.097948s][吞吐率：10.21req/s] [内存消耗：2,380.59kb] [文件加载：68]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.041612s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.009086s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'apips',
    1 => 'inspection',
    2 => 'getdatabypurchase',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534153710',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/apips/index/index.html',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryhVo2B5NJCgRF40jA',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'content-length' => '641',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'user_token' => 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJRaW5nV2FKaWEgSldUIiwiaWF0IjoxNTMzOTgwMTE0LCJleHAiOjMwNjc5NjAyMjgsImF1ZCI6IlFpbmdXYUppYSIsInN1YiI6IlFpbmdXYUppYSIsImRhdGEiOnsibWVtYmVyX2lkIjoxLCJ1c2VybmFtZSI6ImxhcnN1biIsIm5pY2tuYW1lIjoibGFyc3VuIiwiY29tcGFueV9pZCI6MX19.92W4BLztPYpL-w45uFMQtwbW0_5TP3JUHa_4vP3RSSQ',
  'type' => '1',
  'purchase_id' => '1',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000373s ]
[ info ] [ RUN ] app\apips\controller\Inspection->getDataByPurchase[ D:\PHPTutorial\WWW\geek\app\apips\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010777s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.013755s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000404s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.006213s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000259s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_api` [ RunTime:0.006516s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`group_id`,`request_type`,`api_url`,`describe`,`describe_text`,`is_request_data`,`request_data`,`response_data`,`is_response_data`,`is_user_token`,`is_response_sign`,`is_request_sign`,`response_examples`,`developer`,`api_status`,`is_page`,`sort`,`status`,`create_time`,`update_time` FROM `qwj_api` WHERE  `api_url` = 'inspection/getdatabypurchase' LIMIT 1 [ RunTime:0.000366s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_api',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 14,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006951s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` INNER JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 1  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000407s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 36,
  'extra' => 'Using where',
) ]
[ error ] 订单id为1的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:09:20+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.091720s][吞吐率：10.90req/s] [内存消耗：2,423.04kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '$data' (T_VARIABLE)[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:110]
---------------------------------------------------------------
[ 2018-08-13T18:16:00+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.088310s][吞吐率：11.32req/s] [内存消耗：2,423.01kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '}'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:118]
---------------------------------------------------------------
[ 2018-08-13T18:16:05+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.083142s][吞吐率：12.03req/s] [内存消耗：2,423.01kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '}'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:118]
---------------------------------------------------------------
[ 2018-08-13T18:16:09+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.080865s][吞吐率：12.37req/s] [内存消耗：2,423.01kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '}'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:118]
---------------------------------------------------------------
[ 2018-08-13T18:16:12+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.054406s][吞吐率：18.38req/s] [内存消耗：2,417.05kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '}'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:118]
---------------------------------------------------------------
[ 2018-08-13T18:16:40+08:00 ] 192.168.3.70 192.168.3.129 POST /apips/inspection/getPurchase
[ info ] 192.168.3.70/apips/inspection/getPurchase [运行时间：0.099593s][吞吐率：10.04req/s] [内存消耗：2,423.01kb] [文件加载：72]
[ error ] [0]语法解析错误: syntax error, unexpected '}'[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:118]
---------------------------------------------------------------
[ 2018-08-13T18:21:10+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/sorting.html?_pjax=.content
[ info ] larsun.com/ps/inspection/sorting.html?_pjax=.content [运行时间：0.107974s][吞吐率：9.26req/s] [内存消耗：2,573.27kb] [文件加载：76]
[ error ] [0]缺少更新条件[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:2208]
---------------------------------------------------------------
[ 2018-08-13T18:21:13+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.099073s][吞吐率：10.09req/s] [内存消耗：2,597.52kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T18:21:13+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.085467s][吞吐率：11.70req/s] [内存消耗：2,754.80kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.011757s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.002747s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534155670',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/sorting.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000226s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010370s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007413s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000772s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000386s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000249s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000281s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000308s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006562s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000298s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 12,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000501s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 43,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:21:54+08:00 ] 127.0.0.1 127.0.0.1 POST /apips/inspection/inspectionadd.html
[ info ] larsun.com/apips/inspection/inspectionadd.html [运行时间：0.086619s][吞吐率：11.54req/s] [内存消耗：2,438.35kb] [文件加载：73]
[ error ] [8]未定义变量: type[D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php:114]
---------------------------------------------------------------
[ 2018-08-13T18:22:43+08:00 ] 127.0.0.1 127.0.0.1 POST /apips/inspection/inspectionadd.html
[ info ] larsun.com/apips/inspection/inspectionadd.html [运行时间：0.080565s][吞吐率：12.41req/s] [内存消耗：2,435.12kb] [文件加载：72]
[ error ] [0]method not exist:think\db\Query->creatData[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Query.php:93]
---------------------------------------------------------------
[ 2018-08-13T18:23:04+08:00 ] 127.0.0.1 127.0.0.1 POST /apips/inspection/inspectionadd.html
[ info ] larsun.com/apips/inspection/inspectionadd.html [运行时间：0.135088s][吞吐率：7.40req/s] [内存消耗：2,469.38kb] [文件加载：74]
[ error ] [0]类型错误: Too few arguments to function app\apips\model\PsInspection::creatData(), 1 passed in D:\PHPTutorial\WWW\geek\app\apips\logic\Inspection.php on line 115 and exactly 2 expected[D:\PHPTutorial\WWW\geek\app\apips\model\PsInspection.php:82]
---------------------------------------------------------------
[ 2018-08-13T18:24:50+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.116216s][吞吐率：8.60req/s] [内存消耗：2,760.52kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.040605s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.009989s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534155674',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/sorting.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000404s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011170s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.016274s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000375s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.007012s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000300s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008100s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000688s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000330s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000277s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000252s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000287s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006927s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000432s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:24:53+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html?_pjax=.content
[ info ] larsun.com/ps/inspection/packing.html?_pjax=.content [运行时间：0.102669s][吞吐率：9.74req/s] [内存消耗：2,591.63kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T18:24:53+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.076573s][吞吐率：13.06req/s] [内存消耗：2,754.84kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.013220s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000941s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534155891',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000209s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001027s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006804s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000782s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000552s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000387s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000291s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000284s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000335s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007758s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000565s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:24:54+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.102452s][吞吐率：9.76req/s] [内存消耗：2,760.55kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.022208s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.012994s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534155894',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000384s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000837s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.006744s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000460s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.009357s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000287s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008212s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000790s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000422s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000279s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000268s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000243s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008413s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000301s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000464s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:24:56+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.091488s][吞吐率：10.93req/s] [内存消耗：2,591.57kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T18:24:56+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.082172s][吞吐率：12.17req/s] [内存消耗：2,754.80kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010300s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000845s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534155895',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/packing.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000217s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011205s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.009418s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000683s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000314s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000147s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000480s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000182s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000222s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006734s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000194s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000662s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:24:57+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.087385s][吞吐率：11.44req/s] [内存消耗：2,755.00kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.011920s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000775s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534155897',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/packing.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000205s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011072s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008630s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000800s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000428s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000257s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000195s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000627s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007944s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000386s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000525s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:25:38+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.121451s][吞吐率：8.23req/s] [内存消耗：2,760.52kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.037481s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.011297s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534155898',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/packing.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000375s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010695s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.014491s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000331s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.006912s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000422s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007222s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000665s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000407s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000238s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006487s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000519s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:25:47+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.091193s][吞吐率：10.97req/s] [内存消耗：2,755.00kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.014068s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001244s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534155939',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/packing.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000218s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000711s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.016444s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000975s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000403s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000710s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000136s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000127s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000158s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007381s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000178s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000451s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:25:49+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html?_pjax=.content
[ info ] larsun.com/ps/inspection/packing.html?_pjax=.content [运行时间：0.080081s][吞吐率：12.49req/s] [内存消耗：2,591.63kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T18:25:49+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.078656s][吞吐率：12.71req/s] [内存消耗：2,754.84kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.012152s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001521s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534155948',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000228s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.002036s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007104s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000663s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000476s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000708s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000165s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000178s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000225s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006592s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000251s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000409s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:25:58+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.131765s][吞吐率：7.59req/s] [内存消耗：2,597.52kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T18:25:58+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.080892s][吞吐率：12.36req/s] [内存消耗：2,754.80kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.011988s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001704s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534155950',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/packing.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000255s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000630s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.009193s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000878s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000218s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000249s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000615s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000281s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006957s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000180s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000516s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:26:04+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.090110s][吞吐率：11.10req/s] [内存消耗：2,755.00kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.009787s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001789s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534155959',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/packing.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000369s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000859s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014961s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000861s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000423s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000277s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000245s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000247s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007649s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000491s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:35:36+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.085482s][吞吐率：11.70req/s] [内存消耗：2,755.00kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010325s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.002111s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534155965',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/packing.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000211s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011771s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007223s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000809s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000395s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000317s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000245s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000238s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006729s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000174s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000425s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:35:45+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.109713s][吞吐率：9.11req/s] [内存消耗：2,760.52kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.036590s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.010767s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534156537',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/packing.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000381s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010527s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.014219s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000347s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.006210s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000271s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006615s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000662s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000407s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000240s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000224s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006182s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000444s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:51:04+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.103410s][吞吐率：9.67req/s] [内存消耗：2,760.55kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.032255s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.010407s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534156546',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/packing.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000391s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011149s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.007526s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000326s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.006364s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000249s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007343s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000652s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000677s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000262s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000207s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000201s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007093s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000376s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000513s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:51:56+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.103015s][吞吐率：9.71req/s] [内存消耗：2,760.52kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.021951s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.010787s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534156546',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/packing.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000382s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000877s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.006566s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000350s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.006909s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000274s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006332s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000651s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000546s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000281s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000255s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000226s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000243s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006443s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000391s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 13,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 4  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000518s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为4的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:51:58+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.086595s][吞吐率：11.55req/s] [内存消耗：2,630.16kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T18:52:01+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getPurchase&mark=2&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getPurchase&mark=2&type=1 [运行时间：0.069517s][吞吐率：14.38req/s] [内存消耗：2,050.45kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T18:52:07+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.080466s][吞吐率：12.43req/s] [内存消耗：2,655.91kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.013797s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001002s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534157520',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000256s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010128s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006474s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000757s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.010650s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000423s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:52:11+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.085156s][吞吐率：11.74req/s] [内存消耗：2,655.91kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.014281s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000925s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534157520',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '1',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000216s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000870s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.015213s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000799s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 131,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007724s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 1  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000604s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 49,
  'extra' => '',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为1的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:52:36+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.094264s][吞吐率：10.61req/s] [内存消耗：2,630.21kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T18:52:37+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.073914s][吞吐率：13.53req/s] [内存消耗：2,655.98kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010582s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000919s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534157557',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000398s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001690s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.017599s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000875s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.008316s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000427s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:52:47+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.093850s][吞吐率：10.66req/s] [内存消耗：2,636.16kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T18:52:48+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.075430s][吞吐率：13.26req/s] [内存消耗：2,630.21kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T18:52:50+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.070167s][吞吐率：14.25req/s] [内存消耗：2,050.26kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T18:52:53+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.072843s][吞吐率：13.73req/s] [内存消耗：2,655.98kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.009229s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000756s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534157569',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '1',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000205s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.009770s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.014754s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000819s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007105s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 1  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000407s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为1的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:52:56+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.052926s][吞吐率：18.89req/s] [内存消耗：2,046.63kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T18:52:57+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.069065s][吞吐率：14.48req/s] [内存消耗：2,655.98kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.009787s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000739s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534157575',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '1',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000211s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011342s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006967s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000768s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006512s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 1  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000362s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为1的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:53:00+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getPurchase&mark=2&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getPurchase&mark=2&type=1 [运行时间：0.058939s][吞吐率：16.97req/s] [内存消耗：2,046.82kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T18:53:34+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.074909s][吞吐率：13.35req/s] [内存消耗：2,655.98kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.008749s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000736s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534157613',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '1',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000215s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011166s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.016037s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000928s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006604s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 1  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000403s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为1的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:53:37+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getPurchase&mark=2&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getPurchase&mark=2&type=1 [运行时间：0.071529s][吞吐率：13.98req/s] [内存消耗：2,050.45kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T18:53:56+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/fresh.html?_pjax=.content
[ info ] larsun.com/ps/inspection/fresh.html?_pjax=.content [运行时间：0.107687s][吞吐率：9.29req/s] [内存消耗：2,636.11kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T18:53:58+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.086700s][吞吐率：11.53req/s] [内存消耗：2,630.16kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T18:54:08+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.124115s][吞吐率：8.06req/s] [内存消耗：2,597.57kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T18:54:08+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.093899s][吞吐率：10.65req/s] [内存消耗：2,753.78kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.015262s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000892s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534157639',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000214s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001792s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008164s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000705s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000371s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000215s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000203s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000198s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000210s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006871s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000219s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 2,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000323s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 2,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:55:09+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html?_pjax=.content
[ info ] larsun.com/ps/inspection/packing.html?_pjax=.content [运行时间：0.094971s][吞吐率：10.53req/s] [内存消耗：2,591.63kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T18:55:09+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.080566s][吞吐率：12.41req/s] [内存消耗：2,753.77kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.012696s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.002081s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534157707',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000734s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.002124s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.008609s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000725s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000929s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000499s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000230s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000213s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000276s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006589s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000180s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000264s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:55:10+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.130657s][吞吐率：7.65req/s] [内存消耗：2,753.98kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.021881s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.002566s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534157710',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000455s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010529s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.015145s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000895s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000426s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000279s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000276s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000239s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000248s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 103,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.007021s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000284s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000337s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:55:14+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html?_pjax=.content
[ info ] larsun.com/ps/inspection/mark.html?_pjax=.content [运行时间：0.097202s][吞吐率：10.29req/s] [内存消耗：2,591.57kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T18:55:39+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/mark.html
[ info ] larsun.com/ps/inspection/mark.html [运行时间：0.102497s][吞吐率：9.76req/s] [内存消耗：2,759.45kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.037955s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.009498s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'mark',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534157722',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/packing.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'cache-control' => 'max-age=0',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000381s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->mark[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011046s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_config` [ RunTime:0.014083s ]
[ sql ] [ SQL ] SELECT * FROM `qwj_config` [ RunTime:0.000321s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_config',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 27,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_hook` [ RunTime:0.006372s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`addon_list` FROM `qwj_hook` [ RunTime:0.000256s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_hook',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => '',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007473s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000662s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/mark'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000402s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 251 LIMIT 1 [ RunTime:0.000270s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000237s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000227s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/mark' LIMIT 1 [ RunTime:0.000209s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006875s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 2 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000260s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 2 [ RunTime:0.000329s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 1,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:56:06+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html?_pjax=.content
[ info ] larsun.com/ps/inspection/packing.html?_pjax=.content [运行时间：0.127211s][吞吐率：7.86req/s] [内存消耗：2,597.58kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T18:56:06+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.082914s][吞吐率：12.06req/s] [内存消耗：2,753.77kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.011135s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001427s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534157753',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/mark.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000293s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.010463s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.006753s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.001553s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000424s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000248s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000214s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000195s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000202s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006431s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000214s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 2,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000845s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 2,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:56:08+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.069579s][吞吐率：14.37req/s] [内存消耗：2,630.16kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T18:56:10+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.080559s][吞吐率：12.41req/s] [内存消耗：2,050.26kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T18:56:18+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.082979s][吞吐率：12.05req/s] [内存消耗：2,655.98kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.010144s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000842s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534157769',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000207s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.011150s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007017s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000857s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006887s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000365s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 2,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:56:23+08:00 ] 127.0.0.1 127.0.0.1 POST /ps/inspection/agriculture?action=getUnmarkData&type=1
[ info ] larsun.com/ps/inspection/agriculture?action=getUnmarkData&type=1 [运行时间：0.074479s][吞吐率：13.43req/s] [内存消耗：2,655.98kb] [文件加载：71]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.011467s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.000888s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'agriculture',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534157782',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'x-requested-with' => 'XMLHttpRequest',
  'origin' => 'http://larsun.com',
  'accept' => '*/*',
  'content-length' => '13',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
)
[ info ] [ PARAM ] array (
  'action' => 'getUnmarkData',
  'type' => '1',
  'purchase_id' => '3',
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000374s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->Agriculture[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000838s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.017975s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000826s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.009409s ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = 3  AND `ps_inspection_record`.`status` = '1'  AND `ps_inspection_record`.`record_type` = '1' [ RunTime:0.000763s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 2,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ error ] 订单id为3的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T18:57:28+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.076022s][吞吐率：13.15req/s] [内存消耗：2,630.16kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T19:08:10+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html?_pjax=.content
[ info ] larsun.com/ps/inspection/packing.html?_pjax=.content [运行时间：0.102252s][吞吐率：9.78req/s] [内存消耗：2,597.58kb] [文件加载：79]
[ error ] [10501]SQLSTATE[42S22]: Column not found: 1054 Unknown column '_pjax' in 'where clause'[D:\PHPTutorial\WWW\geek\thinkphp\library\think\db\Connection.php:388]
---------------------------------------------------------------
[ 2018-08-13T19:08:10+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/packing.html
[ info ] larsun.com/ps/inspection/packing.html [运行时间：0.077721s][吞吐率：12.87req/s] [内存消耗：2,753.77kb] [文件加载：72]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitBase @app_init [ RunTime:0.012224s ]
[ info ] [ BEHAVIOR ] Run app\common\behavior\InitHook @app_init [ RunTime:0.001421s ]
[ info ] [ LANG ] D:\PHPTutorial\WWW\geek\thinkphp\lang\zh-cn.php
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'ps',
    1 => 'inspection',
    2 => 'packing',
  ),
)
[ info ] [ HEADER ] array (
  'cookie' => 'thinkphp_show_page_trace=0|0; thinkphp_show_page_trace=0|0; Hm_lvt_afc2b8bbe5afca7b1c77c05445eadd98=1533728772,1533776987,1533863063,1534122186; PHPSESSID=grkgpa3addht76rqa7ddss3m9b; Hm_lpvt_afc2b8bbe5afca7b1c77c05445eadd98=1534158041',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'accept-encoding' => 'gzip, deflate',
  'referer' => 'http://larsun.com/ps/inspection/agriculture.html',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.75 Safari/537.36',
  'upgrade-insecure-requests' => '1',
  'connection' => 'keep-alive',
  'host' => 'larsun.com',
  'content-length' => '',
  'content-type' => '',
)
[ info ] [ PARAM ] array (
)
[ info ] [ BEHAVIOR ] Run app\common\behavior\AppBegin @app_begin [ RunTime:0.000299s ]
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ RUN ] app\ps\controller\Inspection->packing[ D:\PHPTutorial\WWW\geek\app\ps\controller\Inspection.php ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.001183s ] mysql:dbname=geek;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_menu` [ RunTime:0.007440s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> -1 ORDER BY `sort` [ RunTime:0.000759s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `url` = 'inspection/packing'  AND `module` = 'ps' LIMIT 1 [ RunTime:0.000458s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 253 LIMIT 1 [ RunTime:0.000281s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 249 LIMIT 1 [ RunTime:0.000284s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `id` = 239 LIMIT 1 [ RunTime:0.000237s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'const',
  'possible_keys' => 'PRIMARY',
  'key' => 'PRIMARY',
  'key_len' => '4',
  'ref' => 'const',
  'rows' => 1,
  'extra' => '',
) ]
[ sql ] [ SQL ] SELECT `name` FROM `qwj_menu` WHERE  `module` = 'ps'  AND `url` = 'inspection/packing' LIMIT 1 [ RunTime:0.000247s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_menu',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 114,
  'extra' => 'Using where',
) ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `qwj_ps_inspection_record` [ RunTime:0.006477s ]
[ sql ] [ SQL ] SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = 4 ORDER BY purchase_id desc LIMIT 1 [ RunTime:0.000226s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'qwj_ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => NULL,
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where; Using filesort',
) ]
[ sql ] [ SQL ] SELECT `ps_inspection_record`.`goods_batch`,`ps_inspection_record`.`record_type`,`ps_inspection_record`.`record_date`,`ps_inspection`.`goods_id`,`ps_inspection`.`id`,`ps_inspection`.`name`,`ps_inspection`.`inspect_time`,`ps_inspection`.`product_total`,`ps_inspection`.`product_select`,`ps_inspection`.`production_date`,`ps_inspection`.`expire_date`,`ps_inspection`.`unqualified_rate`,`ps_inspection`.`is_qualified`,`ps_inspection`.`is_certificate`,`ps_inspection`.`remark`,`ps_inspection`.`product_unit`,`ps_inspection`.`unqualified_num`,`provider`.`name` AS `provider` FROM `qwj_ps_inspection_record` `ps_inspection_record` INNER JOIN `qwj_ps_inspection` `ps_inspection` ON `ps_inspection_record`.`id`=`ps_inspection`.`record_id` LEFT JOIN `qwj_provider` `provider` ON `ps_inspection`.`provider_id`=`provider`.`id` WHERE  `purchase_id` = null  AND `ps_inspection`.`status` = '1'  AND `ps_inspection_record`.`record_type` = 4 [ RunTime:0.000294s ]
[ sql ] [ EXPLAIN : array (
  'id' => 1,
  'select_type' => 'SIMPLE',
  'table' => 'ps_inspection_record',
  'type' => 'ALL',
  'possible_keys' => 'PRIMARY',
  'key' => NULL,
  'key_len' => NULL,
  'ref' => NULL,
  'rows' => 3,
  'extra' => 'Using where',
) ]
[ warn ] SQL:SELECT `id`,`name`,`pid`,`sort`,`module`,`url`,`is_hide`,`icon`,`status`,`update_time`,`create_time` FROM `qwj_menu` WHERE  `status` <> :where_status ORDER BY `sort` [Using where; Using filesort]
[ warn ] SQL:SELECT `purchase_id` FROM `qwj_ps_inspection_record` WHERE  `record_type` = :where_record_type ORDER BY purchase_id desc LIMIT 1  [Using where; Using filesort]
[ error ] 订单id为的商品数据获取错误
---------------------------------------------------------------
[ 2018-08-13T19:08:14+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.096918s][吞吐率：10.32req/s] [内存消耗：2,636.07kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
---------------------------------------------------------------
[ 2018-08-13T19:08:27+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/agriculture.html?_pjax=.content
[ info ] larsun.com/ps/inspection/agriculture.html?_pjax=.content [运行时间：0.083842s][吞吐率：11.93req/s] [内存消耗：2,050.59kb] [文件加载：54]
[ error ] [2]file_put_contents(D:\PHPTutorial\WWW\geek\runtime\cache\01\f1f824749e48843962f3f27dca3286.php): failed to open stream: Permission denied[D:\PHPTutorial\WWW\geek\thinkphp\library\think\cache\driver\File.php:152]
---------------------------------------------------------------
[ 2018-08-13T19:08:30+08:00 ] 127.0.0.1 127.0.0.1 GET /ps/inspection/fresh.html?_pjax=.content
[ info ] larsun.com/ps/inspection/fresh.html?_pjax=.content [运行时间：0.073116s][吞吐率：13.68req/s] [内存消耗：2,630.11kb] [文件加载：78]
[ error ] [8]未定义数组索引: purchase_id[D:\PHPTutorial\WWW\geek\app\ps\model\PsInspection.php:19]
